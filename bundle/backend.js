require("source-map-support").install(),function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";var n=r(2);console.log("Listening on port Taxi..."),n.default.listen(1729)},function(e,t,r){"use strict";var n=r(3),s=r(5),o=r(6),a=s(),u=n.createServer(a),i=o(u),d=r(7),p=r(20);d.sequelize.sync().then(function(){});var l=[];i.on("connection",function(e){l.push(e),e.on("post.user",function(t){p.postTo(e,t)}),e.on("get.users",function(t){console.log("hit getUsers",t),p.getAll(e,t)}),e.on("get.userById",function(t){p.getByID(e,t)}),e.on("delete.user",function(e){}),e.on("disconnect",function(){l=l.filter(function(t){return t!==e})})}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t){e.exports=require("http")},,function(e,t){e.exports=require("express")},function(e,t){e.exports=require("socket.io")},function(e,t,r){var n=r(8),s=new n("database","username","password",{host:"localhost",dialect:"sqlite",pool:{max:5,min:0,idle:1e4},storage:"./rdev.sql3"}),o={Sequelize:void 0,sequelize:void 0,users:void 0,messages:void 0,companies:void 0,quotes:void 0,quoteLines:void 0};o.Sequelize=n,o.sequelize=s,o.users=r(14)(s,n),o.messages=r(15)(s,n),o.companies=r(16)(s,n),o.quotes=r(17)(s,n),o.quoteLines=r(18)(s,n),o.companies.hasMany(o.users),o.companies.hasMany(o.quotes),o.quotes.hasMany(o.quoteLines),o.users.hasMany(o.messages),o.messages.belongsTo(o.users),o.quoteLines.belongsTo(o.quotes),e.exports=o},function(e,t){e.exports=require("sequelize")},,,,,,function(e,t){"use strict";e.exports=function(e,t){var r=e.define("user",{id:{type:t.UUID,primaryKey:!0,defaultValue:t.UUIDV4},name:{type:t.STRING,required:!0},passHash:{type:t.STRING},role:{type:t.ENUM,values:["user","admin","contact","disabled"]},email:{type:t.STRING},address:{type:t.STRING},phone:{type:t.STRING},companyName:{type:t.STRING},companyWeb:{type:t.STRING},companyPhone:{type:t.STRING},companyFax:{type:t.STRING},created_at:{type:t.DATE,allowNull:!1},updated_at:t.DATE,deleted_at:t.DATE},{freezeTableName:!0,paranoid:!1,underscored:!0});return r}},function(e,t){"use strict";e.exports=function(e,t){var r=e.define("message",{id:{type:t.UUID,primaryKey:!0,defaultValue:t.UUIDV4},name:{type:t.STRING,required:!0},owner_id:{type:t.UUID,allowNull:!1},type:{type:t.ENUM,values:["alert","system","userMessage","notes"]},sender:{type:t.STRING,required:!0},text:{type:t.STRING,required:!0},title:{type:t.STRING,required:!0},header:{type:t.STRING,required:!0},created_at:{type:t.DATE,allowNull:!1},updated_at:t.DATE,deleted_at:t.DATE},{freezeTableName:!0,paranoid:!1,underscored:!0});return r}},function(e,t){"use strict";e.exports=function(e,t){var r=e.define("companies",{id:{type:t.UUID,primaryKey:!0,defaultValue:t.UUIDV4},name:{type:t.STRING,required:!0},address:{type:t.STRING},city:{type:t.STRING},zip:{type:t.STRING},phone:{type:t.STRING},Misc:{type:t.STRING},updated_at:t.DATE,deleted_at:t.DATE},{freezeTableName:!0,paranoid:!1,underscored:!0});return r}},function(e,t){"use strict";e.exports=function(e,t){var r=e.define("quotes",{id:{type:t.UUID,primaryKey:!0,defaultValue:t.UUIDV4},name:{type:t.STRING,required:!0},created_at:{type:t.DATE,allowNull:!1},updated_at:t.DATE,deleted_at:t.DATE},{freezeTableName:!0,paranoid:!1,underscored:!0});return r}},function(e,t){"use strict";e.exports=function(e,t){var r=e.define("quoteLines",{id:{type:t.UUID,primaryKey:!0,defaultValue:t.UUIDV4},owner_id:{type:t.UUID,allowNull:!1},desc:{type:t.STRING},cost:{type:t.FLOAT,required:!0},isCentered:{type:t.BOOLEAN},unit:{type:t.STRING},created_at:{type:t.DATE,allowNull:!1},updated_at:t.DATE,deleted_at:t.DATE},{freezeTableName:!0,paranoid:!1,underscored:!0});return r}},,function(e,t,r){"use strict";var n=r(7),s={};s.postTo=function(e,t){n.users.update(t.attributes,{where:{id:t.id}}).then(function(t){console.log("updatedUser",t),e.emit("post.user",t)},function(e){return console.log(e)})},s.getAll=function(e,t){n.users.findAll({attributes:t.attributes}).then(function(t){for(var r=[],n=0,s=t;n<s.length;n++){var o=s[n];r.push(o.dataValues)}e.emit("get.users",r)})},s.getByID=function(e,t){n.users.findAll({where:{id:t.id}}).then(function(t){e.emit("get.userById",t[0].dataValues)})},s.dropByID=function(e,t){},e.exports=s}]);
//# sourceMappingURL=main.map